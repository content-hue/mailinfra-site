const a="https://cms.mailinfra.co/wp-json/wp/v2/posts?_embed",n="https://cms.mailinfra.co/wp-json/wp/v2/categories",o="https://cms.mailinfra.co/wp-json/wp/v2/media";async function c(){try{const e=await fetch(a);if(!e.ok)throw new Error(`Failed: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching posts:",e),[]}}async function s(e){try{const t=await fetch(`https://cms.mailinfra.co/wp-json/wp/v2/posts?slug=${e}&_embed`);if(!t.ok)throw new Error(`Failed: ${t.statusText}`);const r=await t.json();return r.length>0?r[0]:null}catch(t){return console.error(`Error fetching post "${e}":`,t),null}}async function i(){try{const e=await fetch(n);if(!e.ok)throw new Error(`Failed: ${e.statusText}`);return(await e.json()).filter(r=>r.slug!=="uncategorized")}catch(e){return console.error("Error fetching categories:",e),[]}}function u(e){return e.acf?.author_name||e._embedded?.author?.[0]?.name||"Mailinfra Team"}function d(e){if(e.acf?.reading_time)return e.acf.reading_time;const r=e.content.rendered.replace(/<[^>]*>/g,"").split(/\s+/).filter(Boolean).length;return`${Math.max(1,Math.ceil(r/200))} min read`}function f(e){return e.acf?.last_updated?e.acf.last_updated:new Date(e.modified).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function m(e){return e._embedded?.["wp:term"]?.[0]?.[0]?.name||"General"}function l(e){if(e.acf?.featured_image_url)return e.acf.featured_image_url;const t=e._embedded?.["wp:featuredmedia"]?.[0];return t&&t.source_url&&!t.code?t.source_url:e.featured_media&&e.featured_media>0?`${o}/${e.featured_media}`:null}export{i as a,l as b,u as c,d,f as e,c as f,m as g,s as h};
